* This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var ke;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ke||(ke={}));const Gu="popstate";function Bm(e){e===void 0&&(e={});function t(r,l){let{pathname:i,search:o,hash:s}=r.location;return sl("",{pathname:i,search:o,hash:s},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:ml(l)}return Vm(t,n,null,e)}function q(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $m(){return Math.random().toString(36).substr(2,8)}function Zu(e,t){return{usr:e.state,key:e.key,idx:t}}function sl(e,t,n,r){return n===void 0&&(n=null),fe({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?cn(t):t,{state:n,key:t&&t.key||r||$m()})}function ml(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function cn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Vm(e,t,n,r){r===void 0&&(r={});let{window:l=document.defaultView,v5Compat:i=!1}=r,o=l.history,s=ke.Pop,a=null,c=f();c==null&&(c=0,o.replaceState(fe({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function h(){s=ke.Pop;let M=f(),g=M==null?null:M-c;c=M,a&&a({action:s,location:k.location,delta:g})}function p(M,g){s=ke.Push;let d=sl(k.location,M,g);c=f()+1;let v=Zu(d,c),j=k.createHref(d);try{o.pushState(v,"",j)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;l.location.assign(j)}i&&a&&a({action:s,location:k.location,delta:1})}function w(M,g){s=ke.Replace;let d=sl(k.location,M,g);c=f();let v=Zu(d,c),j=k.createHref(d);o.replaceState(v,"",j),i&&a&&a({action:s,location:k.location,delta:0})}function N(M){let g=l.location.origin!=="null"?l.location.origin:l.location.href,d=typeof M=="string"?M:ml(M);return d=d.replace(/ $/,"%20"),q(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let k={get action(){return s},get location(){return e(l,o)},listen(M){if(a)throw new Error("A history only accepts one active listener");return l.addEventListener(Gu,h),a=M,()=>{l.removeEventListener(Gu,h),a=null}},createHref(M){return t(l,M)},createURL:N,encodeLocation(M){let g=N(M);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:w,go(M){return o.go(M)}};return k}var oe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oe||(oe={}));const Hm=new Set(["lazy","caseSensitive","path","id","index","children"]);function Wm(e){return e.index===!0}function ji(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((l,i)=>{let o=[...n,String(i)],s=typeof l.id=="string"?l.id:o.join("-");if(q(l.index!==!0||!l.children,"Cannot specify children on an index route"),q(!r[s],'Found a route id collision on id "'+s+`".  Route id's must be globally unique within Data Router usages`),Wm(l)){let a=fe({},l,t(l),{id:s});return r[s]=a,a}else{let a=fe({},l,t(l),{id:s,children:void 0});return r[s]=a,l.children&&(a.children=ji(l.children,t,o,r)),a}})}function gn(e,t,n){return n===void 0&&(n="/"),ql(e,t,n,!1)}function ql(e,t,n,r){let l=typeof t=="string"?cn(t):t,i=gl(l.pathname||"/",n);if(i==null)return null;let o=Of(e);Km(o);let s=null;for(let a=0;s==null&&a<o.length;++a){let c=lg(i);s=ng(o[a],c,r)}return s}function Qm(e,t){let{route:n,pathname:r,params:l}=e;return{id:n.id,pathname:r,params:l,data:t[n.id],handle:n.handle}}function Of(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let l=(i,o,s)=>{let a={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};a.relativePath.startsWith("/")&&(q(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(r.length));let c=jn([r,a.relativePath]),f=n.concat(a);i.children&&i.children.length>0&&(q(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Of(i.children,t,f,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:eg(c,i.index),routesMeta:f})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))l(i,o);else for(let a of Uf(i.path))l(i,o,a)}),t}function Uf(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,l=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return l?[i,""]:[i];let o=Uf(r.join("/")),s=[];return s.push(...o.map(a=>a===""?i:[i,a].join("/"))),l&&s.push(...o),s.map(a=>e.startsWith("/")&&a===""?"/":a)}function Km(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ym=/^:[\w-]+$/,Xm=3,Gm=2,Zm=1,Jm=10,qm=-2,Ju=e=>e==="*";function eg(e,t){let n=e.split("/"),r=n.length;return n.some(Ju)&&(r+=qm),t&&(r+=Gm),n.filter(l=>!Ju(l)).reduce((l,i)=>l+(Ym.test(i)?Xm:i===""?Zm:Jm),r)}function tg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,l)=>r===t[l])?e[e.length-1]-t[t.length-1]:0}function ng(e,t,n){n===void 0&&(n=!1);let{routesMeta:r}=e,l={},i="/",o=[];for(let s=0;s<r.length;++s){let a=r[s],c=s===r.length-1,f=i==="/"?t:t.slice(i.length)||"/",h=qu({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},f),p=a.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=qu({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},f)),!h)return null;Object.assign(l,h.params),o.push({params:l,pathname:jn([i,h.pathname]),pathnameBase:ug(jn([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=jn([i,h.pathnameBase]))}return o}function qu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=rg(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let i=l[0],o=i.replace(/(.)\/+$/,"$1"),s=l.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:p,isOptional:w}=f;if(p==="*"){let k=s[h]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const N=s[h];return w&&!N?c[p]=void 0:c[p]=(N||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:e}}function rg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),cr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,a)=>(r.push({paramName:s,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function lg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function ig(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:l=""}=typeof e=="string"?cn(e):e;return{pathname:n?n.startsWith("/")?n:og(n,t):t,search:cg(r),hash:dg(l)}}function og(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function No(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Af(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function ag(e,t){let n=Af(e);return t?n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sg(e,t,n,r){r===void 0&&(r=!1);let l;typeof e=="string"?l=cn(e):(l=fe({},e),q(!l.pathname||!l.pathname.includes("?"),No("?","pathname","search",l)),q(!l.pathname||!l.pathname.includes("#"),No("#","pathname","hash",l)),q(!l.search||!l.search.includes("#"),No("#","search","hash",l)));let i=e===""||l.pathname==="",o=i?"/":l.pathname,s;if(o==null)s=n;else{let h=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;l.pathname=p.join("/")}s=h>=0?t[h]:"/"}let a=ig(l,s),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&n.endsWith("/");return!a.pathname.endsWith("/")&&(c||f)&&(a.pathname+="/"),a}const jn=e=>e.join("/").replace(/\/\/+/g,"/"),ug=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,dg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Ei{constructor(t,n,r,l){l===void 0&&(l=!1),this.status=t,this.statusText=n||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Vi(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const bf=["post","put","patch","delete"],fg=new Set(bf),hg=["get",...bf],pg=new Set(hg),mg=new Set([301,302,303,307,308]),gg=new Set([307,308]),jo={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vg={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rr={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},ws=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yg=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Bf="remix-router-transitions";function xg(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;q(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let l;if(e.mapRouteProperties)l=e.mapRouteProperties;else if(e.detectErrorBoundary){let m=e.detectErrorBoundary;l=x=>({hasErrorBoundary:m(x)})}else l=yg;let i={},o=ji(e.routes,l,void 0,i),s,a=e.basename||"/",c=e.dataStrategy||Ng,f=e.patchRoutesOnNavigation,h=fe({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},e.future),p=null,w=new Set,N=null,k=null,M=null,g=e.hydrationData!=null,d=gn(o,e.history.location,a),v=null;if(d==null&&!f){let m=He(404,{pathname:e.history.location.pathname}),{matches:x,route:S}=cc(o);d=x,v={[S.id]:m}}d&&!e.hydrationData&&xl(d,o,e.history.location.pathname).active&&(d=null);let j;if(d)if(d.some(m=>m.route.lazy))j=!1;else if(!d.some(m=>m.route.loader))j=!0;else if(h.v7_partialHydration){let m=e.hydrationData?e.hydrationData.loaderData:null,x=e.hydrationData?e.hydrationData.errors:null;if(x){let S=d.findIndex(C=>x[C.route.id]!==void 0);j=d.slice(0,S+1).every(C=>!Sa(C.route,m,x))}else j=d.every(S=>!Sa(S.route,m,x))}else j=e.hydrationData!=null;else if(j=!1,d=[],h.v7_partialHydration){let m=xl(null,o,e.history.location.pathname);m.active&&m.matches&&(d=m.matches)}let R,y={historyAction:e.history.action,location:e.history.location,matches:d,initialized:j,navigation:jo,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||v,fetchers:new Map,blockers:new Map},L=ke.Pop,_=!1,D,F=!1,Z=new Map,$=null,Y=!1,B=!1,te=[],_e=new Set,A=new Map,T=0,V=-1,Q=new Map,re=new Set,ue=new Map,xt=new Map,je=new Set,ct=new Map,Ue=new Map,Ct;function Zf(){if(p=e.history.listen(m=>{let{action:x,location:S,delta:C}=m;if(Ct){Ct(),Ct=void 0;return}cr(Ue.size===0||C!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let z=Os({currentLocation:y.location,nextLocation:S,historyAction:x});if(z&&C!=null){let H=new Promise(K=>{Ct=K});e.history.go(C*-1),yl(z,{state:"blocked",location:S,proceed(){yl(z,{state:"proceeding",proceed:void 0,reset:void 0,location:S}),H.then(()=>e.history.go(C))},reset(){let K=new Map(y.blockers);K.set(z,Rr),Ae({blockers:K})}});return}return dn(x,S)}),n){Og(t,Z);let m=()=>Ug(t,Z);t.addEventListener("pagehide",m),$=()=>t.removeEventListener("pagehide",m)}return y.initialized||dn(ke.Pop,y.location,{initialHydration:!0}),R}function Jf(){p&&p(),$&&$(),w.clear(),D&&D.abort(),y.fetchers.forEach((m,x)=>vl(x)),y.blockers.forEach((m,x)=>Is(x))}function qf(m){return w.add(m),()=>w.delete(m)}function Ae(m,x){x===void 0&&(x={}),y=fe({},y,m);let S=[],C=[];h.v7_fetcherPersist&&y.fetchers.forEach((z,H)=>{z.state==="idle"&&(je.has(H)?C.push(H):S.push(H))}),je.forEach(z=>{!y.fetchers.has(z)&&!A.has(z)&&C.push(z)}),[...w].forEach(z=>z(y,{deletedFetchers:C,viewTransitionOpts:x.viewTransitionOpts,flushSync:x.flushSync===!0})),h.v7_fetcherPersist?(S.forEach(z=>y.fetchers.delete(z)),C.forEach(z=>vl(z))):C.forEach(z=>je.delete(z))}function Mn(m,x,S){var C,z;let{flushSync:H}=S===void 0?{}:S,K=y.actionData!=null&&y.navigation.formMethod!=null&&pt(y.navigation.formMethod)&&y.navigation.state==="loading"&&((C=m.state)==null?void 0:C._isRedirect)!==!0,U;x.actionData?Object.keys(x.actionData).length>0?U=x.actionData:U=null:K?U=y.actionData:U=null;let b=x.loaderData?sc(y.loaderData,x.loaderData,x.matches||[],x.errors):y.loaderData,O=y.blockers;O.size>0&&(O=new Map(O),O.forEach((J,Te)=>O.set(Te,Rr)));let W=_===!0||y.navigation.formMethod!=null&&pt(y.navigation.formMethod)&&((z=m.state)==null?void 0:z._isRedirect)!==!0;s&&(o=s,s=void 0),Y||L===ke.Pop||(L===ke.Push?e.history.push(m,m.state):L===ke.Replace&&e.history.replace(m,m.state));let G;if(L===ke.Pop){let J=Z.get(y.location.pathname);J&&J.has(m.pathname)?G={currentLocation:y.location,nextLocation:m}:Z.has(m.pathname)&&(G={currentLocation:m,nextLocation:y.location})}else if(F){let J=Z.get(y.location.pathname);J?J.add(m.pathname):(J=new Set([m.pathname]),Z.set(y.location.pathname,J)),G={currentLocation:y.location,nextLocation:m}}Ae(fe({},x,{actionData:U,loaderData:b,historyAction:L,location:m,initialized:!0,navigation:jo,revalidation:"idle",restoreScrollPosition:As(m,x.matches||y.matches),preventScrollReset:W,blockers:O}),{viewTransitionOpts:G,flushSync:H===!0}),L=ke.Pop,_=!1,F=!1,Y=!1,B=!1,te=[]}async function Ps(m,x){if(typeof m=="number"){e.history.go(m);return}let S=wa(y.location,y.matches,a,h.v7_prependBasename,m,h.v7_relativeSplatPath,x==null?void 0:x.fromRouteId,x==null?void 0:x.relative),{path:C,submission:z,error:H}=ec(h.v7_normalizeFormMethod,!1,S,x),K=y.location,U=sl(y.location,C,x&&x.state);U=fe({},U,e.history.encodeLocation(U));let b=x&&x.replace!=null?x.replace:void 0,O=ke.Push;b===!0?O=ke.Replace:b===!1||z!=null&&pt(z.formMethod)&&z.formAction===y.location.pathname+y.location.search&&(O=ke.Replace);let W=x&&"preventScrollReset"in x?x.preventScrollReset===!0:void 0,G=(x&&x.flushSync)===!0,J=Os({currentLocation:K,nextLocation:U,historyAction:O});if(J){yl(J,{state:"blocked",location:U,proceed(){yl(J,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),Ps(m,x)},reset(){let Te=new Map(y.blockers);Te.set(J,Rr),Ae({blockers:Te})}});return}return await dn(O,U,{submission:z,pendingError:H,preventScrollReset:W,replace:x&&x.replace,enableViewTransition:x&&x.viewTransition,flushSync:G})}function eh(){if(Qi(),Ae({revalidation:"loading"}),y.navigation.state!=="submitting"){if(y.navigation.state==="idle"){dn(y.historyAction,y.location,{startUninterruptedRevalidation:!0});return}dn(L||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation,enableViewTransition:F===!0})}}async function dn(m,x,S){D&&D.abort(),D=null,L=m,Y=(S&&S.startUninterruptedRevalidation)===!0,ch(y.location,y.matches),_=(S&&S.preventScrollReset)===!0,F=(S&&S.enableViewTransition)===!0;let C=s||o,z=S&&S.overrideNavigation,H=gn(C,x,a),K=(S&&S.flushSync)===!0,U=xl(H,C,x.pathname);if(U.active&&U.matches&&(H=U.matches),!H){let{error:ae,notFoundMatches:le,route:ve}=Ki(x.pathname);Mn(x,{matches:le,loaderData:{},errors:{[ve.id]:ae}},{flushSync:K});return}if(y.initialized&&!B&&Pg(y.location,x)&&!(S&&S.submission&&pt(S.submission.formMethod))){Mn(x,{matches:H},{flushSync:K});return}D=new AbortController;let b=On(e.history,x,D.signal,S&&S.submission),O;if(S&&S.pendingError)O=[vn(H).route.id,{type:oe.error,error:S.pendingError}];else if(S&&S.submission&&pt(S.submission.formMethod)){let ae=await th(b,x,S.submission,H,U.active,{replace:S.replace,flushSync:K});if(ae.shortCircuited)return;if(ae.pendingActionResult){let[le,ve]=ae.pendingActionResult;if(Ze(ve)&&Vi(ve.error)&&ve.error.status===404){D=null,Mn(x,{matches:ae.matches,loaderData:{},errors:{[le]:ve.error}});return}}H=ae.matches||H,O=ae.pendingActionResult,z=Eo(x,S.submission),K=!1,U.active=!1,b=On(e.history,b.url,b.signal)}let{shortCircuited:W,matches:G,loaderData:J,errors:Te}=await nh(b,x,H,U.active,z,S&&S.submission,S&&S.fetcherSubmission,S&&S.replace,S&&S.initialHydration===!0,K,O);W||(D=null,Mn(x,fe({matches:G||H},uc(O),{loaderData:J,errors:Te})))}async function th(m,x,S,C,z,H){H===void 0&&(H={}),Qi();let K=Fg(x,S);if(Ae({navigation:K},{flushSync:H.flushSync===!0}),z){let O=await wl(C,x.pathname,m.signal);if(O.type==="aborted")return{shortCircuited:!0};if(O.type==="error"){let W=vn(O.partialMatches).route.id;return{matches:O.partialMatches,pendingActionResult:[W,{type:oe.error,error:O.error}]}}else if(O.matches)C=O.matches;else{let{notFoundMatches:W,error:G,route:J}=Ki(x.pathname);return{matches:W,pendingActionResult:[J.id,{type:oe.error,error:G}]}}}let U,b=Fr(C,x);if(!b.route.action&&!b.route.lazy)U={type:oe.error,error:He(405,{method:m.method,pathname:x.pathname,routeId:b.route.id})};else if(U=(await gr("action",y,m,[b],C,null))[b.route.id],m.signal.aborted)return{shortCircuited:!0};if(Sn(U)){let O;return H&&H.replace!=null?O=H.replace:O=ic(U.response.headers.get("Location"),new URL(m.url),a)===y.location.pathname+y.location.search,await fn(m,U,!0,{submission:S,replace:O}),{shortCircuited:!0}}if(Xt(U))throw He(400,{type:"defer-action"});if(Ze(U)){let O=vn(C,b.route.id);return(H&&H.replace)!==!0&&(L=ke.Push),{matches:C,pendingActionResult:[O.route.id,U]}}return{matches:C,pendingActionResult:[b.route.id,U]}}async function nh(m,x,S,C,z,H,K,U,b,O,W){let G=z||Eo(x,H),J=H||K||fc(G),Te=!Y&&(!h.v7_partialHydration||!b);if(C){if(Te){let ye=Ts(W);Ae(fe({navigation:G},ye!==void 0?{actionData:ye}:{}),{flushSync:O})}let ne=await wl(S,x.pathname,m.signal);if(ne.type==="aborted")return{shortCircuited:!0};if(ne.type==="error"){let ye=vn(ne.partialMatches).route.id;return{matches:ne.partialMatches,loaderData:{},errors:{[ye]:ne.error}}}else if(ne.matches)S=ne.matches;else{let{error:ye,notFoundMatches:zn,route:xr}=Ki(x.pathname);return{matches:zn,loaderData:{},errors:{[xr.id]:ye}}}}let ae=s||o,[le,ve]=nc(e.history,y,S,J,x,h.v7_partialHydration&&b===!0,h.v7_skipActionErrorRevalidation,B,te,_e,je,ue,re,ae,a,W);if(Yi(ne=>!(S&&S.some(ye=>ye.route.id===ne))||le&&le.some(ye=>ye.route.id===ne)),V=++T,le.length===0&&ve.length===0){let ne=zs();return Mn(x,fe({matches:S,loaderData:{},errors:W&&Ze(W[1])?{[W[0]]:W[1].error}:null},uc(W),ne?{fetchers:new Map(y.fetchers)}:{}),{flushSync:O}),{shortCircuited:!0}}if(Te){let ne={};if(!C){ne.navigation=G;let ye=Ts(W);ye!==void 0&&(ne.actionData=ye)}ve.length>0&&(ne.fetchers=rh(ve)),Ae(ne,{flushSync:O})}ve.forEach(ne=>{bt(ne.key),ne.controller&&A.set(ne.key,ne.controller)});let Dn=()=>ve.forEach(ne=>bt(ne.key));D&&D.signal.addEventListener("abort",Dn);let{loaderResults:vr,fetcherResults:Rt}=await Ls(y,S,le,ve,m);if(m.signal.aborted)return{shortCircuited:!0};D&&D.signal.removeEventListener("abort",Dn),ve.forEach(ne=>A.delete(ne.key));let wt=bl(vr);if(wt)return await fn(m,wt.result,!0,{replace:U}),{shortCircuited:!0};if(wt=bl(Rt),wt)return re.add(wt.key),await fn(m,wt.result,!0,{replace:U}),{shortCircuited:!0};let{loaderData:Xi,errors:yr}=ac(y,S,vr,W,ve,Rt,ct);ct.forEach((ne,ye)=>{ne.subscribe(zn=>{(zn||ne.done)&&ct.delete(ye)})}),h.v7_partialHydration&&b&&y.errors&&(yr=fe({},y.errors,yr));let hn=zs(),Sl=Fs(V),kl=hn||Sl||ve.length>0;return fe({matches:S,loaderData:Xi,errors:yr},kl?{fetchers:new Map(y.fetchers)}:{})}function Ts(m){if(m&&!Ze(m[1]))return{[m[0]]:m[1].data};if(y.actionData)return Object.keys(y.actionData).length===0?null:y.actionData}function rh(m){return m.forEach(x=>{let S=y.fetchers.get(x.key),C=Pr(void 0,S?S.data:void 0);y.fetchers.set(x.key,C)}),new Map(y.fetchers)}function lh(m,x,S,C){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");bt(m);let z=(C&&C.flushSync)===!0,H=s||o,K=wa(y.location,y.matches,a,h.v7_prependBasename,S,h.v7_relativeSplatPath,x,C==null?void 0:C.relative),U=gn(H,K,a),b=xl(U,H,K);if(b.active&&b.matches&&(U=b.matches),!U){_t(m,x,He(404,{pathname:K}),{flushSync:z});return}let{path:O,submission:W,error:G}=ec(h.v7_normalizeFormMethod,!0,K,C);if(G){_t(m,x,G,{flushSync:z});return}let J=Fr(U,O),Te=(C&&C.preventScrollReset)===!0;if(W&&pt(W.formMethod)){ih(m,x,O,J,U,b.active,z,Te,W);return}ue.set(m,{routeId:x,path:O}),oh(m,x,O,J,U,b.active,z,Te,W)}async function ih(m,x,S,C,z,H,K,U,b){Qi(),ue.delete(m);function O(Se){if(!Se.route.action&&!Se.route.lazy){let Fn=He(405,{method:b.formMethod,pathname:S,routeId:x});return _t(m,x,Fn,{flushSync:K}),!0}return!1}if(!H&&O(C))return;let W=y.fetchers.get(m);At(m,Ig(b,W),{flushSync:K});let G=new AbortController,J=On(e.history,S,G.signal,b);if(H){let Se=await wl(z,S,J.signal);if(Se.type==="aborted")return;if(Se.type==="error"){_t(m,x,Se.error,{flushSync:K});return}else if(Se.matches){if(z=Se.matches,C=Fr(z,S),O(C))return}else{_t(m,x,He(404,{pathname:S}),{flushSync:K});return}}A.set(m,G);let Te=T,le=(await gr("action",y,J,[C],z,m))[C.route.id];if(J.signal.aborted){A.get(m)===G&&A.delete(m);return}if(h.v7_fetcherPersist&&je.has(m)){if(Sn(le)||Ze(le)){At(m,$t(void 0));return}}else{if(Sn(le))if(A.delete(m),V>Te){At(m,$t(void 0));return}else return re.add(m),At(m,Pr(b)),fn(J,le,!1,{fetcherSubmission:b,preventScrollReset:U});if(Ze(le)){_t(m,x,le.error);return}}if(Xt(le))throw He(400,{type:"defer-action"});let ve=y.navigation.location||y.location,Dn=On(e.history,ve,G.signal),vr=s||o,Rt=y.navigation.state!=="idle"?gn(vr,y.navigation.location,a):y.matches;q(Rt,"Didn't find any matches after fetcher action");let wt=++T;Q.set(m,wt);let Xi=Pr(b,le.data);y.fetchers.set(m,Xi);let[yr,hn]=nc(e.history,y,Rt,b,ve,!1,h.v7_skipActionErrorRevalidation,B,te,_e,je,ue,re,vr,a,[C.route.id,le]);hn.filter(Se=>Se.key!==m).forEach(Se=>{let Fn=Se.key,bs=y.fetchers.get(Fn),hh=Pr(void 0,bs?bs.data:void 0);y.fetchers.set(Fn,hh),bt(Fn),Se.controller&&A.set(Fn,Se.controller)}),Ae({fetchers:new Map(y.fetchers)});let Sl=()=>hn.forEach(Se=>bt(Se.key));G.signal.addEventListener("abort",Sl);let{loaderResults:kl,fetcherResults:ne}=await Ls(y,Rt,yr,hn,Dn);if(G.signal.aborted)return;G.signal.removeEventListener("abort",Sl),Q.delete(m),A.delete(m),hn.forEach(Se=>A.delete(Se.key));let ye=bl(kl);if(ye)return fn(Dn,ye.result,!1,{preventScrollReset:U});if(ye=bl(ne),ye)return re.add(ye.key),fn(Dn,ye.result,!1,{preventScrollReset:U});let{loaderData:zn,errors:xr}=ac(y,Rt,kl,void 0,hn,ne,ct);if(y.fetchers.has(m)){let Se=$t(le.data);y.fetchers.set(m,Se)}Fs(wt),y.navigation.state==="loading"&&wt>V?(q(L,"Expected pending action"),D&&D.abort(),Mn(y.navigation.location,{matches:Rt,loaderData:zn,errors:xr,fetchers:new Map(y.fetchers)})):(Ae({errors:xr,loaderData:sc(y.loaderData,zn,Rt,xr),fetchers:new Map(y.fetchers)}),B=!1)}async function oh(m,x,S,C,z,H,K,U,b){let O=y.fetchers.get(m);At(m,Pr(b,O?O.data:void 0),{flushSync:K});let W=new AbortController,G=On(e.history,S,W.signal);if(H){let le=await wl(z,S,G.signal);if(le.type==="aborted")return;if(le.type==="error"){_t(m,x,le.error,{flushSync:K});return}else if(le.matches)z=le.matches,C=Fr(z,S);else{_t(m,x,He(404,{pathname:S}),{flushSync:K});return}}A.set(m,W);let J=T,ae=(await gr("loader",y,G,[C],z,m))[C.route.id];if(Xt(ae)&&(ae=await Ss(ae,G.signal,!0)||ae),A.get(m)===W&&A.delete(m),!G.signal.aborted){if(je.has(m)){At(m,$t(void 0));return}if(Sn(ae))if(V>J){At(m,$t(void 0));return}else{re.add(m),await fn(G,ae,!1,{preventScrollReset:U});return}if(Ze(ae)){_t(m,x,ae.error);return}q(!Xt(ae),"Unhandled fetcher deferred data"),At(m,$t(ae.data))}}async function fn(m,x,S,C){let{submission:z,fetcherSubmission:H,preventScrollReset:K,replace:U}=C===void 0?{}:C;x.response.headers.has("X-Remix-Revalidate")&&(B=!0);let b=x.response.headers.get("Location");q(b,"Expected a Location header on the redirect Response"),b=ic(b,new URL(m.url),a);let O=sl(y.location,b,{_isRedirect:!0});if(n){let le=!1;if(x.response.headers.has("X-Remix-Reload-Document"))le=!0;else if(ws.test(b)){const ve=e.history.createURL(b);le=ve.origin!==t.location.origin||gl(ve.pathname,a)==null}if(le){U?t.location.replace(b):t.location.assign(b);return}}D=null;let W=U===!0||x.response.headers.has("X-Remix-Replace")?ke.Replace:ke.Push,{formMethod:G,formAction:J,formEncType:Te}=y.navigation;!z&&!H&&G&&J&&Te&&(z=fc(y.navigation));let ae=z||H;if(gg.has(x.response.status)&&ae&&pt(ae.formMethod))await dn(W,O,{submission:fe({},ae,{formAction:b}),preventScrollReset:K||_,enableViewTransition:S?F:void 0});else{let le=Eo(O,z);await dn(W,O,{overrideNavigation:le,fetcherSubmission:H,preventScrollReset:K||_,enableViewTransition:S?F:void 0})}}async function gr(m,x,S,C,z,H){let K,U={};try{K=await jg(c,m,x,S,C,z,H,i,l)}catch(b){return C.forEach(O=>{U[O.route.id]={type:oe.error,error:b}}),U}for(let[b,O]of Object.entries(K))if(Tg(O)){let W=O.result;U[b]={type:oe.redirect,response:_g(W,S,b,z,a,h.v7_relativeSplatPath)}}else U[b]=await Cg(O);return U}async function Ls(m,x,S,C,z){let H=m.matches,K=gr("loader",m,z,S,x,null),U=Promise.all(C.map(async W=>{if(W.matches&&W.match&&W.controller){let J=(await gr("loader",m,On(e.history,W.path,W.controller.signal),[W.match],W.matches,W.key))[W.match.route.id];return{[W.key]:J}}else return Promise.resolve({[W.key]:{type:oe.error,error:He(404,{pathname:W.path})}})})),b=await K,O=(await U).reduce((W,G)=>Object.assign(W,G),{});return await Promise.all([Dg(x,b,z.signal,H,m.loaderData),zg(x,O,C)]),{loaderResults:b,fetcherResults:O}}function Qi(){B=!0,te.push(...Yi()),ue.forEach((m,x)=>{A.has(x)&&_e.add(x),bt(x)})}function At(m,x,S){S===void 0&&(S={}),y.fetchers.set(m,x),Ae({fetchers:new Map(y.fetchers)},{flushSync:(S&&S.flushSync)===!0})}function _t(m,x,S,C){C===void 0&&(C={});let z=vn(y.matches,x);vl(m),Ae({errors:{[z.route.id]:S},fetchers:new Map(y.fetchers)},{flushSync:(C&&C.flushSync)===!0})}function Ms(m){return xt.set(m,(xt.get(m)||0)+1),je.has(m)&&je.delete(m),y.fetchers.get(m)||vg}function vl(m){let x=y.fetchers.get(m);A.has(m)&&!(x&&x.state==="loading"&&Q.has(m))&&bt(m),ue.delete(m),Q.delete(m),re.delete(m),h.v7_fetcherPersist&&je.delete(m),_e.delete(m),y.fetchers.delete(m)}function ah(m){let x=(xt.get(m)||0)-1;x<=0?(xt.delete(m),je.add(m),h.v7_fetcherPersist||vl(m)):xt.set(m,x),Ae({fetchers:new Map(y.fetchers)})}function bt(m){let x=A.get(m);x&&(x.abort(),A.delete(m))}function Ds(m){for(let x of m){let S=Ms(x),C=$t(S.data);y.fetchers.set(x,C)}}function zs(){let m=[],x=!1;for(let S of re){let C=y.fetchers.get(S);q(C,"Expected fetcher: "+S),C.state==="loading"&&(re.delete(S),m.push(S),x=!0)}return Ds(m),x}function Fs(m){let x=[];for(let[S,C]of Q)if(C<m){let z=y.fetchers.get(S);q(z,"Expected fetcher: "+S),z.state==="loading"&&(bt(S),Q.delete(S),x.push(S))}return Ds(x),x.length>0}function sh(m,x){let S=y.blockers.get(m)||Rr;return Ue.get(m)!==x&&Ue.set(m,x),S}function Is(m){y.blockers.delete(m),Ue.delete(m)}function yl(m,x){let S=y.blockers.get(m)||Rr;q(S.state==="unblocked"&&x.state==="blocked"||S.state==="blocked"&&x.state==="blocked"||S.state==="blocked"&&x.state==="proceeding"||S.state==="blocked"&&x.state==="unblocked"||S.state==="proceeding"&&x.state==="unblocked","Invalid blocker state transition: "+S.state+" -> "+x.state);let C=new Map(y.blockers);C.set(m,x),Ae({blockers:C})}function Os(m){let{currentLocation:x,nextLocation:S,historyAction:C}=m;if(Ue.size===0)return;Ue.size>1&&cr(!1,"A router only supports one blocker at a time");let z=Array.from(Ue.entries()),[H,K]=z[z.length-1],U=y.blockers.get(H);if(!(U&&U.state==="proceeding")&&K({currentLocation:x,nextLocation:S,historyAction:C}))return H}function Ki(m){let x=He(404,{pathname:m}),S=s||o,{matches:C,route:z}=cc(S);return Yi(),{notFoundMatches:C,route:z,error:x}}function Yi(m){let x=[];return ct.forEach((S,C)=>{(!m||m(C))&&(S.cancel(),x.push(C),ct.delete(C))}),x}function uh(m,x,S){if(N=m,M=x,k=S||null,!g&&y.navigation===jo){g=!0;let C=As(y.location,y.matches);C!=null&&Ae({restoreScrollPosition:C})}return()=>{N=null,M=null,k=null}}function Us(m,x){return k&&k(m,x.map(C=>Qm(C,y.loaderData)))||m.key}function ch(m,x){if(N&&M){let S=Us(m,x);N[S]=M()}}function As(m,x){if(N){let S=Us(m,x),C=N[S];if(typeof C=="number")return C}return null}function xl(m,x,S){if(f)if(m){if(Object.keys(m[0].params).length>0)return{active:!0,matches:ql(x,S,a,!0)}}else return{active:!0,matches:ql(x,S,a,!0)||[]};return{active:!1,matches:null}}async function wl(m,x,S){if(!f)return{type:"success",matches:m};let C=m;for(;;){let z=s==null,H=s||o,K=i;try{await f({path:x,matches:C,patch:(O,W)=>{S.aborted||lc(O,W,H,K,l)}})}catch(O){return{type:"error",error:O,partialMatches:C}}finally{z&&!S.aborted&&(o=[...o])}if(S.aborted)return{type:"aborted"};let U=gn(H,x,a);if(U)return{type:"success",matches:U};let b=ql(H,x,a,!0);if(!b||C.length===b.length&&C.every((O,W)=>O.route.id===b[W].route.id))return{type:"success",matches:null};C=b}}function dh(m){i={},s=ji(m,l,void 0,i)}function fh(m,x){let S=s==null;lc(m,x,s||o,i,l),S&&(o=[...o],Ae({}))}return R={get basename(){return a},get future(){return h},get state(){return y},get routes(){return o},get window(){return t},initialize:Zf,subscribe:qf,enableScrollRestoration:uh,navigate:Ps,fetch:lh,revalidate:eh,createHref:m=>e.history.createHref(m),encodeLocation:m=>e.history.encodeLocation(m),getFetcher:Ms,deleteFetcher:ah,dispose:Jf,getBlocker:sh,deleteBlocker:Is,patchRoutes:fh,_internalFetchControllers:A,_internalActiveDeferreds:ct,_internalSetRoutes:dh},R}function wg(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function wa(e,t,n,r,l,i,o,s){let a,c;if(o){a=[];for(let h of t)if(a.push(h),h.route.id===o){c=h;break}}else a=t,c=t[t.length-1];let f=sg(l||".",ag(a,i),gl(e.pathname,n)||e.pathname,s==="path");if(l==null&&(f.search=e.search,f.hash=e.hash),(l==null||l===""||l===".")&&c){let h=ks(f.search);if(c.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let p=new URLSearchParams(f.search),w=p.getAll("index");p.delete("index"),w.filter(k=>k).forEach(k=>p.append("index",k));let N=p.toString();f.search=N?"?"+N:""}}return r&&n!=="/"&&(f.pathname=f.pathname==="/"?n:jn([n,f.pathname])),ml(f)}function ec(e,t,n,r){if(!r||!wg(r))return{path:n};if(r.formMethod&&!Mg(r.formMethod))return{path:n,error:He(405,{method:r.formMethod})};let l=()=>({path:n,error:He(400,{type:"invalid-body"})}),i=r.formMethod||"get",o=e?i.toUpperCase():i.toLowerCase(),s=Hf(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!pt(o))return l();let p=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((w,N)=>{let[k,M]=N;return""+w+k+"="+M+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:p}}}else if(r.formEncType==="application/json"){if(!pt(o))return l();try{let p=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:p,text:void 0}}}catch{return l()}}}q(typeof FormData=="function","FormData is not available in this environment");let a,c;if(r.formData)a=ka(r.formData),c=r.formData;else if(r.body instanceof FormData)a=ka(r.body),c=r.body;else if(r.body instanceof URLSearchParams)a=r.body,c=oc(a);else if(r.body==null)a=new URLSearchParams,c=new FormData;else try{a=new URLSearchParams(r.body),c=oc(a)}catch{return l()}let f={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(pt(f.formMethod))return{path:n,submission:f};let h=cn(n);return t&&h.search&&ks(h.search)&&a.append("index",""),h.search="?"+a,{path:ml(h),submission:f}}function tc(e,t,n){n===void 0&&(n=!1);let r=e.findIndex(l=>l.route.id===t);return r>=0?e.slice(0,n?r+1:r):e}function nc(e,t,n,r,l,i,o,s,a,c,f,h,p,w,N,k){let M=k?Ze(k[1])?k[1].error:k[1].data:void 0,g=e.createURL(t.location),d=e.createURL(l),v=n;i&&t.errors?v=tc(n,Object.keys(t.errors)[0],!0):k&&Ze(k[1])&&(v=tc(n,k[0]));let j=k?k[1].statusCode:void 0,R=o&&j&&j>=400,y=v.filter((_,D)=>{let{route:F}=_;if(F.lazy)return!0;if(F.loader==null)return!1;if(i)return Sa(F,t.loaderData,t.errors);if(Sg(t.loaderData,t.matches[D],_)||a.some(Y=>Y===_.route.id))return!0;let Z=t.matches[D],$=_;return rc(_,fe({currentUrl:g,currentParams:Z.params,nextUrl:d,nextParams:$.params},r,{actionResult:M,actionStatus:j,defaultShouldRevalidate:R?!1:s||g.pathname+g.search===d.pathname+d.search||g.search!==d.search||$f(Z,$)}))}),L=[];return h.forEach((_,D)=>{if(i||!n.some(B=>B.route.id===_.routeId)||f.has(D))return;let F=gn(w,_.path,N);if(!F){L.push({key:D,routeId:_.routeId,path:_.path,matches:null,match:null,controller:null});return}let Z=t.fetchers.get(D),$=Fr(F,_.path),Y=!1;p.has(D)?Y=!1:c.has(D)?(c.delete(D),Y=!0):Z&&Z.state!=="idle"&&Z.data===void 0?Y=s:Y=rc($,fe({currentUrl:g,currentParams:t.matches[t.matches.length-1].params,nextUrl:d,nextParams:n[n.length-1].params},r,{actionResult:M,actionStatus:j,defaultShouldRevalidate:R?!1:s})),Y&&L.push({key:D,routeId:_.routeId,path:_.path,matches:F,match:$,controller:new AbortController})}),[y,L]}function Sa(e,t,n){if(e.lazy)return!0;if(!e.loader)return!1;let r=t!=null&&t[e.id]!==void 0,l=n!=null&&n[e.id]!==void 0;return!r&&l?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!r&&!l}function Sg(e,t,n){let r=!t||n.route.id!==t.route.id,l=e[n.route.id]===void 0;return r||l}function $f(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function rc(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}function lc(e,t,n,r,l){var i;let o;if(e){let c=r[e];q(c,"No route found to patch children into: routeId = "+e),c.children||(c.children=[]),o=c.children}else o=n;let s=t.filter(c=>!o.some(f=>Vf(c,f))),a=ji(s,l,[e||"_","patch",String(((i=o)==null?void 0:i.length)||"0")],r);o.push(...a)}function Vf(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((n,r)=>{var l;return(l=t.children)==null?void 0:l.some(i=>Vf(n,i))}):!1}async function kg(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let l=n[e.id];q(l,"No route found in manifest");let i={};for(let o in r){let a=l[o]!==void 0&&o!=="hasErrorBoundary";cr(!a,'Route "'+l.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!Hm.has(o)&&(i[o]=r[o])}Object.assign(l,i),Object.assign(l,fe({},t(l),{lazy:void 0}))}async function Ng(e){let{matches:t}=e,n=t.filter(l=>l.shouldLoad);return(await Promise.all(n.map(l=>l.resolve()))).reduce((l,i,o)=>Object.assign(l,{[n[o].route.id]:i}),{})}async function jg(e,t,n,r,l,i,o,s,a,c){let f=i.map(w=>w.route.lazy?kg(w.route,a,s):void 0),h=i.map((w,N)=>{let k=f[N],M=l.some(d=>d.route.id===w.route.id);return fe({},w,{shouldLoad:M,resolve:async d=>(d&&r.method==="GET"&&(w.route.lazy||w.route.loader)&&(M=!0),M?Eg(t,r,w,k,d,c):Promise.resolve({type:oe.data,result:void 0}))})}),p=await e({matches:h,request:r,params:i[0].params,fetcherKey:o,context:c});try{await Promise.all(f)}catch{}return p}async function Eg(e,t,n,r,l,i){let o,s,a=c=>{let f,h=new Promise((N,k)=>f=k);s=()=>f(),t.signal.addEventListener("abort",s);let p=N=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+n.route.id+"]"))):c({request:t,params:n.params,context:i},...N!==void 0?[N]:[]),w=(async()=>{try{return{type:"data",result:await(l?l(k=>p(k)):p())}}catch(N){return{type:"error",result:N}}})();return Promise.race([w,h])};try{let c=n.route[e];if(r)if(c){let f,[h]=await Promise.all([a(c).catch(p=>{f=p}),r]);if(f!==void 0)throw f;o=h}else if(await r,c=n.route[e],c)o=await a(c);else if(e==="action"){let f=new URL(t.url),h=f.pathname+f.search;throw He(405,{method:t.method,pathname:h,routeId:n.route.id})}else return{type:oe.data,result:void 0};else if(c)o=await a(c);else{let f=new URL(t.url),h=f.pathname+f.search;throw He(404,{pathname:h})}q(o.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:oe.error,result:c}}finally{s&&t.signal.removeEventListener("abort",s)}return o}async function Cg(e){let{result:t,type:n}=e;if(Wf(t)){let c;try{let f=t.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?t.body==null?c=null:c=await t.json():c=await t.text()}catch(f){return{type:oe.error,error:f}}return n===oe.error?{type:oe.error,error:new Ei(t.status,t.statusText,c),statusCode:t.status,headers:t.headers}:{type:oe.data,data:c,statusCode:t.status,headers:t.headers}}if(n===oe.error){if(dc(t)){var r;if(t.data instanceof Error){var l;return{type:oe.error,error:t.data,statusCode:(l=t.init)==null?void 0:l.status}}t=new Ei(((r=t.init)==null?void 0:r.status)||500,void 0,t.data)}return{type:oe.error,error:t,statusCode:Vi(t)?t.status:void 0}}if(Lg(t)){var i,o;return{type:oe.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}if(dc(t)){var s,a;return{type:oe.data,data:t.data,statusCode:(s=t.init)==null?void 0:s.status,headers:(a=t.init)!=null&&a.headers?new Headers(t.init.headers):void 0}}return{type:oe.data,data:t}}function _g(e,t,n,r,l,i){let o=e.headers.get("Location");if(q(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!ws.test(o)){let s=r.slice(0,r.findIndex(a=>a.route.id===n)+1);o=wa(new URL(t.url),s,l,!0,o,i),e.headers.set("Location",o)}return e}function ic(e,t,n){if(ws.test(e)){let r=e,l=r.startsWith("//")?new URL(t.protocol+r):new URL(r),i=gl(l.pathname,n)!=null;if(l.origin===t.origin&&i)return l.pathname+l.search+l.hash}return e}function On(e,t,n,r){let l=e.createURL(Hf(t)).toString(),i={signal:n};if(r&&pt(r.formMethod)){let{formMethod:o,formEncType:s}=r;i.method=o.toUpperCase(),s==="application/json"?(i.headers=new Headers({"Content-Type":s}),i.body=JSON.stringify(r.json)):s==="text/plain"?i.body=r.text:s==="application/x-www-form-urlencoded"&&r.formData?i.body=ka(r.formData):i.body=r.formData}return new Request(l,i)}function ka(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function oc(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function Rg(e,t,n,r,l){let i={},o=null,s,a=!1,c={},f=n&&Ze(n[1])?n[1].error:void 0;return e.forEach(h=>{if(!(h.route.id in t))return;let p=h.route.id,w=t[p];if(q(!Sn(w),"Cannot handle redirect results in processLoaderData"),Ze(w)){let N=w.error;f!==void 0&&(N=f,f=void 0),o=o||{};{let k=vn(e,p);o[k.route.id]==null&&(o[k.route.id]=N)}i[p]=void 0,a||(a=!0,s=Vi(w.error)?w.error.status:500),w.headers&&(c[p]=w.headers)}else Xt(w)?(r.set(p,w.deferredData),i[p]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!a&&(s=w.statusCode),w.headers&&(c[p]=w.headers)):(i[p]=w.data,w.statusCode&&w.statusCode!==200&&!a&&(s=w.statusCode),w.headers&&(c[p]=w.headers))}),f!==void 0&&n&&(o={[n[0]]:f},i[n[0]]=void 0),{loaderData:i,errors:o,statusCode:s||200,loaderHeaders:c}}function ac(e,t,n,r,l,i,o){let{loaderData:s,errors:a}=Rg(t,n,r,o);return l.forEach(c=>{let{key:f,match:h,controller:p}=c,w=i[f];if(q(w,"Did not find corresponding fetcher result"),!(p&&p.signal.aborted))if(Ze(w)){let N=vn(e.matches,h==null?void 0:h.route.id);a&&a[N.route.id]||(a=fe({},a,{[N.route.id]:w.error})),e.fetchers.delete(f)}else if(Sn(w))q(!1,"Unhandled fetcher revalidation redirect");else if(Xt(w))q(!1,"Unhandled fetcher deferred data");else{let N=$t(w.data);e.fetchers.set(f,N)}}),{loaderData:s,errors:a}}function sc(e,t,n,r){let l=fe({},t);for(let i of n){let o=i.route.id;if(t.hasOwnProperty(o)?t[o]!==void 0&&(l[o]=t[o]):e[o]!==void 0&&i.route.loader&&(l[o]=e[o]),r&&r.hasOwnProperty(o))break}return l}function uc(e){return e?Ze(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function vn(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function cc(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function He(e,t){let{pathname:n,routeId:r,method:l,type:i,message:o}=t===void 0?{}:t,s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",l&&n&&r?a="You made a "+l+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?a="defer() is not supported in actions":i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",a='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",l&&n&&r?a="You made a "+l.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":l&&(a='Invalid request method "'+l.toUpperCase()+'"')),new Ei(e||500,s,new Error(a),!0)}function bl(e){let t=Object.entries(e);for(let n=t.length-1;n>=0;n--){let[r,l]=t[n];if(Sn(l))return{key:r,result:l}}}function Hf(e){let t=typeof e=="string"?cn(e):e;return ml(fe({},t,{hash:""}))}function Pg(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Tg(e){return Wf(e.result)&&mg.has(e.result.status)}function Xt(e){return e.type===oe.deferred}function Ze(e){return e.type===oe.error}function Sn(e){return(e&&e.type)===oe.redirect}function dc(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Lg(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function Wf(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Mg(e){return pg.has(e.toLowerCase())}function pt(e){return fg.has(e.toLowerCase())}async function Dg(e,t,n,r,l){let i=Object.entries(t);for(let o=0;o<i.length;o++){let[s,a]=i[o],c=e.find(p=>(p==null?void 0:p.route.id)===s);if(!c)continue;let f=r.find(p=>p.route.id===c.route.id),h=f!=null&&!$f(f,c)&&(l&&l[c.route.id])!==void 0;Xt(a)&&h&&await Ss(a,n,!1).then(p=>{p&&(t[s]=p)})}}async function zg(e,t,n){for(let r=0;r<n.length;r++){let{key:l,routeId:i,controller:o}=n[r],s=t[l];e.find(c=>(c==null?void 0:c.route.id)===i)&&Xt(s)&&(q(o,"Expected an AbortController for revalidating fetcher deferred result"),await Ss(s,o.signal,!0).then(c=>{c&&(t[l]=c)}))}}async function Ss(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:oe.data,data:e.deferredData.unwrappedData}}catch(l){return{type:oe.error,error:l}}return{type:oe.data,data:e.deferredData.data}}}function ks(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Fr(e,t){let n=typeof t=="string"?cn(t).search:t.search;if(e[e.length-1].route.index&&ks(n||""))return e[e.length-1];let r=Af(e);return r[r.length-1]}function fc(e){let{formMethod:t,formAction:n,formEncType:r,text:l,formData:i,json:o}=e;if(!(!t||!n||!r)){if(l!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:l};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(o!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Eo(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Fg(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Pr(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Ig(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function $t(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Og(e,t){try{let n=e.sessionStorage.getItem(Bf);if(n){let r=JSON.parse(n);for(let[l,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(l,new Set(i||[]))}}catch{}}function Ug(e,t){if(t.size>0){let n={};for(let[r,l]of t)n[r]=[...l];try{e.sessionStorage.setItem(Bf,JSON.stringify(n))}catch(r){cr(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.2
